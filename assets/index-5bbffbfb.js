var O=Object.defineProperty;var x=(e,t,i)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var c=(e,t,i)=>(x(e,typeof t!="symbol"?t+"":t,i),i);import require$$0,{createContext,useContext,useState,forwardRef,useRef,useEffect,createElement}from"react";import require$$0$1 from"react-dom";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=require$$0,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,i){var s,r={},o=null,a=null;i!==void 0&&(o=""+i),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)m$1.call(t,s)&&!p.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:k,type:e,key:o,ref:a,props:r,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},m=require$$0$1;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;const isClassValid=e=>!e.includes(" ")&&e!=="",isClassInvalid=e=>!isClassValid(e);class TransitionClassStrategy{constructor(t){c(this,"showClass");c(this,"hideClass");const{showClass:i,hideClass:s}=t;if(this.showClass=Array.isArray(i)?i:[i],this.hideClass=Array.isArray(s)?s:[s],this.showClass.some(isClassInvalid)||this.hideClass.some(isClassInvalid))throw new Error("Classes cannot contain whitespace or be empty. Split them up in an array first")}hide(t){return this.transition(t,!1)}show(t){return this.transition(t,!0)}transition(t,i){const s=i?this.showClass:this.hideClass;return{promise:new Promise(o=>{const a=()=>{t.classList.remove(...s),o()};t.addEventListener("transitionend",a,{once:!0}),t.classList.add(...s)}),applyTransform:"before"}}}var lib={},types={};Object.defineProperty(types,"__esModule",{value:!0});function asTypedEventEmitter(e){return e}types.asTypedEventEmitter=asTypedEventEmitter;var ee={},taskCollection$1={},taskCollection={},bakeCollection={};(function(exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.BAKED_EMPTY_FUNC=function(){};var FORLOOP_FALLBACK=1500;function generateArgsDefCode(e){var t="";if(e===0)return t;for(var i=0;i<e-1;++i)t+="arg"+String(i)+", ";return t+="arg"+String(e-1),t}function generateBodyPartsCode(e,t){for(var i="",s="",r=0;r<t;++r)i+="var f"+r+" = collection["+r+`];
`,s+="f"+r+"("+e+`)
`;return{funcDefCode:i,funcCallCode:s}}function generateBodyPartsVariadicCode(e){for(var t="",i="",s=0;s<e;++s)t+="var f"+s+" = collection["+s+`];
`,i+="f"+s+`.apply(undefined, arguments)
`;return{funcDefCode:t,funcCallCode:i}}function bakeCollection(collection,fixedArgsNum){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `+funcDefCode+`
            collection = undefined;
            return (function(`+argsDefCode+`) {
                `+funcCallCode+`
            });
        })`}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);collection.length%10===0?funcFactoryCode=`(function(collection) {
                return (function(`+argsDefCode+`) {
                    for (var i = 0; i < collection.length; i += 10) {
                        collection[i](`+argsDefCode+`);
                        collection[i+1](`+argsDefCode+`);
                        collection[i+2](`+argsDefCode+`);
                        collection[i+3](`+argsDefCode+`);
                        collection[i+4](`+argsDefCode+`);
                        collection[i+5](`+argsDefCode+`);
                        collection[i+6](`+argsDefCode+`);
                        collection[i+7](`+argsDefCode+`);
                        collection[i+8](`+argsDefCode+`);
                        collection[i+9](`+argsDefCode+`);
                    }
                });
            })`:collection.length%4===0?funcFactoryCode=`(function(collection) {
                return (function(`+argsDefCode+`) {
                    for (var i = 0; i < collection.length; i += 4) {
                        collection[i](`+argsDefCode+`);
                        collection[i+1](`+argsDefCode+`);
                        collection[i+2](`+argsDefCode+`);
                        collection[i+3](`+argsDefCode+`);
                    }
                });
            })`:collection.length%3===0?funcFactoryCode=`(function(collection) {
                return (function(`+argsDefCode+`) {
                    for (var i = 0; i < collection.length; i += 3) {
                        collection[i](`+argsDefCode+`);
                        collection[i+1](`+argsDefCode+`);
                        collection[i+2](`+argsDefCode+`);
                    }
                });
            })`:funcFactoryCode=`(function(collection) {
                return (function(`+argsDefCode+`) {
                    for (var i = 0; i < collection.length; ++i) {
                        collection[i](`+argsDefCode+`);
                    }
                });
            })`}{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollection=bakeCollection;function bakeCollectionAwait(collection,fixedArgsNum){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `+funcDefCode+`
            collection = undefined;
            return (function(`+argsDefCode+`) {
                return Promise.all([ `+funcCallCode+` ]);
            });
        })`}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);funcFactoryCode=`(function(collection) {
            return (function(`+argsDefCode+`) {
                var promises = Array(collection.length);
                for (var i = 0; i < collection.length; ++i) {
                    promises[i] = collection[i](`+argsDefCode+`);
                }
                return Promise.all(promises);
            });
        })`}{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollectionAwait=bakeCollectionAwait;function bakeCollectionVariadic(collection){if(collection.length===0)return exports.BAKED_EMPTY_FUNC;if(collection.length===1)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var _a=generateBodyPartsVariadicCode(collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode=`(function(collection) {
            `+funcDefCode+`
            collection = undefined;
            return (function() {
                `+funcCallCode+`
            });
        })`}else funcFactoryCode=`(function(collection) {
            return (function() {
                for (var i = 0; i < collection.length; ++i) {
                    collection[i].apply(undefined, arguments);
                }
            });
        })`;{var funcFactory=eval(funcFactoryCode);return funcFactory(collection)}}exports.bakeCollectionVariadic=bakeCollectionVariadic})(bakeCollection);var __spreadArrays$1=commonjsGlobal&&commonjsGlobal.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var s=Array(e),r=0,t=0;t<i;t++)for(var o=arguments[t],a=0,h=o.length;a<h;a++,r++)s[r]=o[a];return s};Object.defineProperty(taskCollection,"__esModule",{value:!0});var bake_collection_1=bakeCollection;function push_norebuild(e,t){var i=this.length;if(i>1)if(t){var s;(s=this._tasks).push.apply(s,arguments),this.length+=arguments.length}else this._tasks.push(e),this.length++;else if(t){if(i===1){var r=Array(1+arguments.length);r.push(r),r.push.apply(r,arguments),this._tasks=r}else{var r=Array(arguments.length);r.push.apply(r,arguments),this._tasks=r}this.length+=arguments.length}else i===1?this._tasks=[this._tasks,e]:this._tasks=e,this.length++}function push_rebuild(e,t){var i=this.length;if(i>1)if(t){var s;(s=this._tasks).push.apply(s,arguments),this.length+=arguments.length}else this._tasks.push(e),this.length++;else if(t){if(i===1){var r=Array(1+arguments.length);r.push(r),r.push.apply(r,arguments),this._tasks=r}else{var r=Array(arguments.length);r.push.apply(r,arguments),this._tasks=r}this.length+=arguments.length}else i===1?this._tasks=[this._tasks,e]:this._tasks=e,this.length++;this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}function _fast_remove_single(e,t){t!==-1&&(t===0?e.shift():t===e.length-1?e.length=e.length-1:e.splice(t,1))}taskCollection._fast_remove_single=_fast_remove_single;function removeLast_norebuild(e){this.length!==0&&(this.length===1?this._tasks===e&&(this.length=0):(_fast_remove_single(this._tasks,this._tasks.lastIndexOf(e)),this._tasks.length===1?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length))}function removeLast_rebuild(e){if(this.length!==0){if(this.length===1)if(this._tasks===e&&(this.length=0),this.firstEmitBuildStrategy){this.call=bake_collection_1.BAKED_EMPTY_FUNC;return}else{this.rebuild();return}else _fast_remove_single(this._tasks,this._tasks.lastIndexOf(e)),this._tasks.length===1?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length;this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}}function insert_norebuild(e){for(var t,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];this.length===0?(this._tasks=i,this.length=1):this.length===1?(i.unshift(this._tasks),this._tasks=i,this.length=this._tasks.length):((t=this._tasks).splice.apply(t,__spreadArrays$1([e,0],i)),this.length=this._tasks.length)}function insert_rebuild(e){for(var t,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];this.length===0?(this._tasks=i,this.length=1):this.length===1?(i.unshift(this._tasks),this._tasks=i,this.length=this._tasks.length):((t=this._tasks).splice.apply(t,__spreadArrays$1([e,0],i)),this.length=this._tasks.length),this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild()}function rebuild_noawait(){this.length===0?this.call=bake_collection_1.BAKED_EMPTY_FUNC:this.length===1?this.call=this._tasks:this.call=bake_collection_1.bakeCollection(this._tasks,this.argsNum)}function rebuild_await(){this.length===0?this.call=bake_collection_1.BAKED_EMPTY_FUNC:this.length===1?this.call=this._tasks:this.call=bake_collection_1.bakeCollectionAwait(this._tasks,this.argsNum)}function rebuild_on_first_call(){this.rebuild(),this.call.apply(void 0,arguments)}var TaskCollection=function(){function e(t,i,s,r){i===void 0&&(i=!0),s===void 0&&(s=null),r===void 0&&(r=!1),this.awaitTasks=r,this.call=bake_collection_1.BAKED_EMPTY_FUNC,this.argsNum=t,this.firstEmitBuildStrategy=!0,r?this.rebuild=rebuild_await.bind(this):this.rebuild=rebuild_noawait.bind(this),this.setAutoRebuild(i),s?typeof s=="function"?(this._tasks=s,this.length=1):(this._tasks=s,this.length=s.length):(this._tasks=null,this.length=0),i&&this.rebuild()}return e}();taskCollection.TaskCollection=TaskCollection;function fastClear(){this._tasks=null,this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC}function clear(){this._tasks=null,this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC}function growArgsNum(e){this.argsNum<e&&(this.argsNum=e,this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild())}function setAutoRebuild(e){e?(this.push=push_rebuild.bind(this),this.insert=insert_rebuild.bind(this),this.removeLast=removeLast_rebuild.bind(this)):(this.push=push_norebuild.bind(this),this.insert=insert_norebuild.bind(this),this.removeLast=removeLast_norebuild.bind(this))}function tasksAsArray(){return this.length===0?[]:this.length===1?[this._tasks]:this._tasks}function setTasks(e){e.length===0?(this.length=0,this.call=bake_collection_1.BAKED_EMPTY_FUNC):e.length===1?(this.length=1,this.call=e[0],this._tasks=e[0]):(this.length=e.length,this._tasks=e,this.firstEmitBuildStrategy?this.call=rebuild_on_first_call:this.rebuild())}TaskCollection.prototype.fastClear=fastClear;TaskCollection.prototype.clear=clear;TaskCollection.prototype.growArgsNum=growArgsNum;TaskCollection.prototype.setAutoRebuild=setAutoRebuild;TaskCollection.prototype.tasksAsArray=tasksAsArray;TaskCollection.prototype.setTasks=setTasks;(function(e){function t(i){for(var s in i)e.hasOwnProperty(s)||(e[s]=i[s])}Object.defineProperty(e,"__esModule",{value:!0}),t(taskCollection)})(taskCollection$1);var utils={};Object.defineProperty(utils,"__esModule",{value:!0});function nullObj(){var e={};return e.__proto__=null,e.prototype=null,e}utils.nullObj=nullObj;var __spreadArrays=commonjsGlobal&&commonjsGlobal.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var s=Array(e),r=0,t=0;t<i;t++)for(var o=arguments[t],a=0,h=o.length;a<h;a++,r++)s[r]=o[a];return s};Object.defineProperty(ee,"__esModule",{value:!0});var task_collection_1=taskCollection$1,utils_1=utils;function emit(e,t,i,s,r,o){var a=this.events[e];return a?a.length===0?!1:(a.argsNum<6?a.call(t,i,s,r,o):a.call.apply(void 0,arguments),!0):!1}function emitHasOnce(e,t,i,s,r,o){var a=this.events[e];if(a){if(a.length===0)return!1;a.argsNum<6?a.call(t,i,s,r,o):a.call.apply(void 0,arguments)}var h=this.onceEvents[e];if(h){if(typeof h=="function")this.onceEvents[e]=void 0,arguments.length<6?h(t,i,s,r,o):h.apply(void 0,arguments);else{var d=h;if(this.onceEvents[e]=void 0,arguments.length<6)for(var u=0;u<d.length;++u)d[u](t,i,s,r,o);else for(var u=0;u<d.length;++u)d[u].apply(void 0,arguments)}return!0}return!!a}var EventEmitter=function(){function e(){this.events=utils_1.nullObj(),this.onceEvents=utils_1.nullObj(),this._symbolKeys=new Set,this.maxListeners=1/0}return Object.defineProperty(e.prototype,"_eventsCount",{get:function(){return this.eventNames().length},enumerable:!0,configurable:!0}),e}();ee.EventEmitter=EventEmitter;function once(e,t){switch(this.emit===emit&&(this.emit=emitHasOnce),typeof this.onceEvents[e]){case"undefined":this.onceEvents[e]=t,typeof e=="symbol"&&this._symbolKeys.add(e);break;case"function":this.onceEvents[e]=[this.onceEvents[e],t];break;case"object":this.onceEvents[e].push(t)}return this}function addListener(e,t,i){if(i===void 0&&(i=t.length),typeof t!="function")throw new TypeError("The listener must be a function");var s=this.events[e];return s?(s.push(t),s.growArgsNum(i),this.maxListeners!==1/0&&this.maxListeners<=s.length&&console.warn('Maximum event listeners for "'+String(e)+'" event!')):(this.events[e]=new task_collection_1.TaskCollection(i,!0,t,!1),typeof e=="symbol"&&this._symbolKeys.add(e)),this}function removeListener(e,t){var i=this.events[e];i&&i.removeLast(t);var s=this.onceEvents[e];return s&&(typeof s=="function"?this.onceEvents[e]=void 0:typeof s=="object"&&(s.length===1&&s[0]===t?this.onceEvents[e]=void 0:task_collection_1._fast_remove_single(s,s.lastIndexOf(t)))),this}function hasListeners(e){return this.events[e]&&!!this.events[e].length}function prependListener(e,t,i){if(i===void 0&&(i=t.length),typeof t!="function")throw new TypeError("The listener must be a function");var s=this.events[e];return!s||!(s instanceof task_collection_1.TaskCollection)?(s=this.events[e]=new task_collection_1.TaskCollection(i,!0,t,!1),typeof e=="symbol"&&this._symbolKeys.add(e)):(s.insert(0,t),s.growArgsNum(i),this.maxListeners!==1/0&&this.maxListeners<=s.length&&console.warn('Maximum event listeners for "'+String(e)+'" event!')),this}function prependOnceListener(e,t){this.emit===emit&&(this.emit=emitHasOnce);var i=this.onceEvents[e];if(!i||typeof i!="object")i=this.onceEvents[e]=[t],typeof e=="symbol"&&this._symbolKeys.add(e);else throw new Error("FIXME");return this}function removeAllListeners(e){return e===void 0?(this.events=utils_1.nullObj(),this.onceEvents=utils_1.nullObj(),this._symbolKeys=new Set):(this.events[e]=void 0,this.onceEvents[e]=void 0,typeof e=="symbol"&&this._symbolKeys.delete(e)),this}function setMaxListeners(e){return this.maxListeners=e,this}function getMaxListeners(){return this.maxListeners}function listeners(e){return this.emit===emit?this.events[e]?this.events[e].tasksAsArray().slice():[]:this.events[e]&&this.onceEvents[e]?__spreadArrays(this.events[e].tasksAsArray(),typeof this.onceEvents[e]=="function"?[this.onceEvents[e]]:this.onceEvents[e]):this.events[e]?this.events[e].tasksAsArray():this.onceEvents[e]?typeof this.onceEvents[e]=="function"?[this.onceEvents[e]]:this.onceEvents[e]:[]}function eventNames(){var e=this;if(this.emit===emit){var t=Object.keys(this.events);return __spreadArrays(t,Array.from(this._symbolKeys)).filter(function(s){return s in e.events&&e.events[s]&&e.events[s].length})}else{var t=Object.keys(this.events).filter(function(r){return e.events[r]&&e.events[r].length}),i=Object.keys(this.onceEvents).filter(function(r){return e.onceEvents[r]&&e.onceEvents[r].length});return __spreadArrays(t,i,Array.from(this._symbolKeys).filter(function(r){return r in e.events&&e.events[r]&&e.events[r].length||r in e.onceEvents&&e.onceEvents[r]&&e.onceEvents[r].length}))}}function listenerCount(e){return this.emit===emit?this.events[e]&&this.events[e].length||0:(this.events[e]&&this.events[e].length||0)+(this.onceEvents[e]&&this.onceEvents[e].length||0)}EventEmitter.prototype.emit=emit;EventEmitter.prototype.on=addListener;EventEmitter.prototype.once=once;EventEmitter.prototype.addListener=addListener;EventEmitter.prototype.removeListener=removeListener;EventEmitter.prototype.hasListeners=hasListeners;EventEmitter.prototype.prependListener=prependListener;EventEmitter.prototype.prependOnceListener=prependOnceListener;EventEmitter.prototype.off=removeListener;EventEmitter.prototype.removeAllListeners=removeAllListeners;EventEmitter.prototype.setMaxListeners=setMaxListeners;EventEmitter.prototype.getMaxListeners=getMaxListeners;EventEmitter.prototype.listeners=listeners;EventEmitter.prototype.eventNames=eventNames;EventEmitter.prototype.listenerCount=listenerCount;(function(e){function t(i){for(var s in i)e.hasOwnProperty(s)||(e[s]=i[s])}Object.defineProperty(e,"__esModule",{value:!0}),t(types),t(ee)})(lib);var ScrollDirection;(function(e){e[e.up=0]="up",e[e.down=1]="down",e[e.none=2]="none"})(ScrollDirection||(ScrollDirection={}));const fallbackTransition={promise:Promise.resolve()};class PeekAHeader{constructor(t,{autoUpdateTransform:i=!0,transitionStrategy:s,autoAriaHidden:r=!0,autoSnap:o=!1,isTop:a=!1,cacheStaticOffset:h=!0,snapOnWheel:d=null}={}){c(this,"element");c(this,"homeY");c(this,"headerHeight");c(this,"hidden",!1);c(this,"locked",null);c(this,"currentTranslateY",null);c(this,"resizeObserver");c(this,"previousScrollY");c(this,"eventEmitter");c(this,"sticky",null);c(this,"autoUpdateTransform");c(this,"transitionStrategy",null);c(this,"autoAriaHidden",!0);c(this,"autoSnap",!1);c(this,"cachedStaticOffset",null);c(this,"isTop");c(this,"shouldCacheStaticOffset");c(this,"currentScroll",null);c(this,"snapOnWheel");c(this,"onScrollFunction",()=>{this.onScroll()});c(this,"onScrollEndFunction",()=>{this.onScrollEnd()});c(this,"onWheelFunction",t=>{this.onWheel()});this.previousScrollY=window.scrollY,this.element=t;const u=t.getBoundingClientRect();this.homeY=this.calculateHomeY(u),this.headerHeight=u.height,this.autoUpdateTransform=i,this.transitionStrategy=s??null,this.autoAriaHidden=r,this.autoSnap=o,this.isTop=a,this.shouldCacheStaticOffset=h,this.snapOnWheel=d,this.resizeObserver=new ResizeObserver(()=>{this.updateHomeY(),this.updateHeaderHeight()}),this.resizeObserver.observe(t),window.addEventListener("scroll",this.onScrollFunction),window.addEventListener("scrollend",this.onScrollEndFunction),window.addEventListener("wheel",this.onWheelFunction),this.eventEmitter=new lib.EventEmitter,this.autoAriaHidden&&(this.on("hidden",()=>{this.element.setAttribute("aria-hidden","true")}),this.on("unhidden",()=>{this.element.setAttribute("aria-hidden","false")})),(u.y>0||window.scrollY<=0)&&this.cacheStaticOffset()}on(t,i){this.eventEmitter.on(t,i)}off(t,i){this.eventEmitter.off(t,i)}cacheStaticOffset(){this.isSticky()&&this.shouldCacheStaticOffset&&this.cachedStaticOffset===null&&(this.cachedStaticOffset=this.getStaticOffset())}emit(t,...i){this.eventEmitter.emit(t,...i)}onScrollEnd(){this.autoSnap&&this.snap(),this.currentScroll=null}invalidateSticky(){this.sticky=null,this.isSticky()}isSticky(t=!0){if(t&&this.sticky!==null)return this.sticky;const s=window.getComputedStyle(this.element).position==="sticky";return this.sticky=s,s}applyTransform(){let t;this.currentTranslateY===null?this.hidden?(t="-100%",this.emit("progress",{progress:1,amount:-this.headerHeight})):(t="0px",this.emit("progress",{progress:0,amount:0})):(t=`${this.currentTranslateY}px`,this.emit("progress",{progress:this.currentTranslateY,amount:this.currentTranslateY})),this.autoUpdateTransform&&(this.element.style.transform=`translateY(${t})`)}lock(t="hidden"){switch(t){case"hidden":this.locked=t,this.partialHide();break;case"shown":this.locked=t,this.show();break;case"current":this.locked=this.getTranslateYNumber();break;default:throw new Error(`Unknown lock position ${t}`)}}unlock(){this.locked=null}isLocked(){return this.locked!==null}transitonShow(t=!1){var s;if(t)return fallbackTransition;const i=(s=this.transitionStrategy)==null?void 0:s.show(this.element,{from:{y:this.getTranslateYNumber()},to:{y:0}});return i&&(this.emit("transitionStart"),i.promise.then(()=>{this.emit("transitionEnd")})),i??fallbackTransition}transitionHide(t=!1,i="-100%"){var s;return t?fallbackTransition:((s=this.transitionStrategy)==null?void 0:s.hide(this.element,{from:{y:this.getTranslateYNumber()},to:{y:i}}))??fallbackTransition}async show(t=!0){if(this.getTranslateYNumber()===0)return;const i=this.transitonShow(!t),{applyTransform:s="after",promise:r}=i;this.hidden=!1,this.currentTranslateY=null,s==="before"&&(this.applyTransform(),this.emit("unhidden")),await r,s==="after"&&this.applyTransform(),s!=="before"&&this.emit("unhidden")}async hide(t=!0){if(this.hidden)return;const i=this.transitionHide(!t),{applyTransform:s="after",promise:r}=i;this.hidden=!0,this.currentTranslateY=null,s==="before"&&this.applyTransform(),await r,s==="after"&&this.applyTransform(),this.cacheStaticOffset(),this.emit("hidden")}async partialHide(t=!0){if(!this.isSticky()){this.hide();return}const i=this.getTranslateYNumber(),s=this.element.offsetTop+i,r=this.getStaticOffset(),o=s-r,a=this.headerHeight+i;if(o>=a){await this.hide();return}const h=this.capTranslateY(i-Math.min(o,a));if(i===h)return;this.currentTranslateY=h;const d=this.transitionHide(!t,h),{applyTransform:u="after",promise:C}=d;u==="before"&&this.applyTransform(),await C,u==="after"&&this.applyTransform()}invalidateStaticOffset(){this.cachedStaticOffset=null,(this.hidden||window.scrollY===0||this.element.getBoundingClientRect().y>0)&&this.cacheStaticOffset()}getStaticOffset(t=!0){if(this.isTop)return 0;if(t&&this.cachedStaticOffset!==null)return this.cachedStaticOffset;this.element.style.position="relative";const i=this.element.offsetTop;return this.element.style.position="",this.cachedStaticOffset=i,i}async snap(){this.currentTranslateY!==null&&(this.currentTranslateY>-this.headerHeight/2?await this.show():await this.partialHide())}destroy(){this.resizeObserver.disconnect(),this.eventEmitter.removeAllListeners(),window.removeEventListener("scroll",this.onScrollFunction),window.removeEventListener("scrollend",this.onScrollEndFunction),window.removeEventListener("wheel",this.onWheelFunction)}calculateHomeY(t){return(t??this.element.getBoundingClientRect()).top+window.scrollY}updateHomeY(){this.homeY=this.calculateHomeY()}updateHeaderHeight(){this.headerHeight=this.element.getBoundingClientRect().height}capTranslateY(t){const i=Math.max(t,-this.headerHeight);return Math.min(i,0)}getTranslateYNumber(){return this.currentTranslateY?this.currentTranslateY:this.hidden?-this.headerHeight:0}handleWheelSnap(t){if(this.snapOnWheel&&t!==ScrollDirection.none){if(t===ScrollDirection.up){this.show();return}if(this.snapOnWheel==="full"){this.hide();return}this.partialHide()}}onWheel(){var t;(t=this.currentScroll)==null||t.isWheel,this.currentScroll?(this.currentScroll.isWheel=!0,this.currentScroll.hasScrolled=!0):this.currentScroll={isWheel:!0,direction:ScrollDirection.none,hasScrolled:!0},this.handleWheelSnap(this.currentScroll.direction)}onScroll(){const t=window.scrollY,i=t-this.previousScrollY,s=t<this.homeY?i-(this.homeY-t):i;if(this.previousScrollY=t,s===0)return;const r=s<0?ScrollDirection.up:ScrollDirection.down,o=!this.currentScroll||this.currentScroll.direction!==r;switch(this.currentScroll||(this.currentScroll={isWheel:!1,direction:r,hasScrolled:!0}),o&&(this.currentScroll.direction=r,this.currentScroll.isWheel&&this.handleWheelSnap(r)),this.updateHomeY(),r){case ScrollDirection.up:if(!this.hidden&&this.currentTranslateY===null)return;break;case ScrollDirection.down:if(this.hidden)return;break}if(this.isLocked())return this.isSticky(),void 0;const a=this.getTranslateYNumber(),h=this.capTranslateY(a-s);h===0?(this.currentTranslateY=null,this.hidden=!1,this.emit("unhidden")):h===-this.headerHeight?(this.currentTranslateY=null,this.hidden=!0,this.cacheStaticOffset(),this.emit("hidden")):(this.currentTranslateY=h,this.hidden&&(this.hidden=!1,this.emit("unhidden"))),this.applyTransform()}}const PeekAHeaderContext=createContext({}),PeekAHeaderProvider=({children:e})=>{const[t,i]=useState(),s=()=>{t&&t.hide()},r=()=>{t&&t.partialHide()},o=()=>{t&&t.show()};return jsxRuntimeExports.jsx(PeekAHeaderContext.Provider,{value:{instance:t,setInstance:i,hide:s,partialHide:r,show:o},children:e})},PeekAHeaderConsumer=PeekAHeaderContext.Consumer,usePeekAHeaderContext=()=>useContext(PeekAHeaderContext),PeekAHeaderComponent=forwardRef(({tag:e="header",events:t={},position:i,locked:s,autoSnap:r,autoUpdateTransform:o,transitionStrategy:a,autoAriaHidden:h,isTop:d,snapOnWheel:u,...C},v)=>{const b=useRef(null),[S,w]=useState(),{instance:_=S,setInstance:A=w}=usePeekAHeaderContext(),T={autoUpdateTransform:o,transitionStrategy:a,autoAriaHidden:h,autoSnap:r,isTop:d,snapOnWheel:u,cacheStaticOffset:!0};return useEffect(()=>{if(!b.current)return;const g=new PeekAHeader(b.current,{...T});return A(g),()=>{g.destroy()}},[o,a,h,r,d,u]),useEffect(()=>{if(_)return Object.keys(t).forEach(g=>{const y=g,E=t[y];_.on(y,E)}),()=>{Object.keys(t).forEach(g=>{const y=g,E=t[y];_.off(y,E)})}},[_,t]),useEffect(()=>{if(_){if(!s){_.unlock();return}_.lock(s)}},[_,s]),createElement(e,{...C,ref:g=>{b.current=g,typeof v=="function"?v(g):v&&(v.current=g)}})}),App=()=>jsxRuntimeExports.jsx(PeekAHeaderProvider,{children:jsxRuntimeExports.jsx(PeekAHeaderConsumer,{children:({hide:e,partialHide:t,show:i})=>jsxRuntimeExports.jsx("div",{className:"page",children:jsxRuntimeExports.jsx(PeekAHeaderComponent,{className:"sticky top-0",autoSnap:!0,transitionStrategy:new TransitionClassStrategy({hideClass:"transition-all",showClass:"transition-all"}),children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("div",{children:"Peek a header"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{onClick:()=>t(),children:"Hide"})})]})})})})}),index="";client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(require$$0.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
